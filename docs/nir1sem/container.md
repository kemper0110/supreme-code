Я изучал возможность выполнения недоверенного кода на своих серверах.
А любой пользовательский код, отправляемый на платформу, является недоверенным 
и может являться вредоносным.

Я изучил 2 статьи по тому, как применяется контейнеризация в олимпиадах по информатике.
Olympiads in Informatics, 2012, Vol. 6, 100–109 © 2012 Vilnius University
A New Contest Sandbox
Olympiads in Informatics, 2021 Vol. 15, 37–52 © 2021 IOI, Vilnius University
Security of Grading Systems

В первой статье авторы описали свой вариант контейнеризации основанный на linux control group и namespaces.
Те же механизмы используются в системе контейнеризации docker, которую использую я, поэтому
я перенес требования из статей к докеру.
Во второй статье описывается безопасность системы оценки задач. 

Там указывается несколько аспектов безопасности, на которые нужно обратить внимание.

Основное это всяческое ограничение возможностей для недоверенного кода.
Начнем с ограничений файловой системы.

Ограничение доступа.
Докер по умолчанию создает изолированную файловую системы для каждого контейнера.

Ограничение размера.
`--storage-opt size=120G` поддерживается на btrfs, overlay2, windowsfilter, zfs.

Ограничение ввода-вывода.
Можно ограничить количество операций ввода-вывода. 
`device-read-IOPS device-write-IOPS` 
Но если фс расположена в оперативной памяти, то смысла особого нет. 

Ограничение памяти и процессора.
Даже если задание по программированию не предусматривает ограничение памяти, 
то все равно память нужно ограничить, чтобы не мешать другим контейнерам и хостовым процессам.
По процессору то же самое. 

Ограничение потоков и процессов.
Чрезмерное число процессов может создать перегрузку для планировщика задач, поэтому рекомендуется ограничивать количество процессов и файлов.

Отправка сигналов и межпроцессное взаимодействие.
Это уже сделано докером. 

Сетевое взаимодействие - не указано в статье.
`--network=none`

```shell
docker run -it --rm \
  --storage-opt size=128M \
  --device-read-iops /dev/sda:1000 \
  --device-write-iops /dev/sda:1000 \
  --read-only \
  --tmpfs /usr/app:size=32M \
  --memory 128M \
  --cpus 1.0 \
  --ulimit nproc=64 --ulimit nofile=512 \
  --network=none \ 
  gcc:13.2.0
```